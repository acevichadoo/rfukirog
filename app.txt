document.getElementById("year").textContent = new Date().getFullYear();

// Menú móvil
const burger = document.getElementById("burger");
const nav = document.getElementById("nav");

burger.addEventListener("click", () => {
  const isOpen = nav.classList.toggle("open");
  burger.setAttribute("aria-expanded", String(isOpen));
});

// Cerrar menú al hacer click en un link (móvil)
nav.querySelectorAll("a").forEach((a) => {
  a.addEventListener("click", () => {
    if (nav.classList.contains("open")) {
      nav.classList.remove("open");
      burger.setAttribute("aria-expanded", "false");
    }
  });
});

// FAQ acordeón
document.querySelectorAll(".faqBtn").forEach((btn) => {
  btn.addEventListener("click", () => {
    const expanded = btn.getAttribute("aria-expanded") === "true";
    btn.setAttribute("aria-expanded", String(!expanded));

    const chev = btn.querySelector(".chev");
    if (chev) chev.style.transform = expanded ? "rotate(0deg)" : "rotate(180deg)";

    const panel = btn.nextElementSibling;
    if (panel) panel.hidden = expanded;
  });
});

// Botón subir
const toTop = document.getElementById("toTop");
window.addEventListener("scroll", () => {
  toTop.classList.toggle("show", window.scrollY > 600);
});
toTop.addEventListener("click", () => {
  window.scrollTo({ top: 0, behavior: "smooth" });
});

// Email demo
const form = document.getElementById("leadForm");
const email = document.getElementById("leadEmail");
const msg = document.getElementById("leadMsg");

form.addEventListener("submit", (e) => {
  e.preventDefault();
  const v = email.value.trim();
  const ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v);

  msg.textContent = ok
    ? "Perfecto. (Demo) Te enviaremos instrucciones."
    : "Email inválido. Ejemplo: nombre@correo.com";

  if (ok) form.reset();
});